

■ 参考資料
https://www.youtube.com/watch?v=LDOR5HfI_sQ


■ git clone
新規にリモートリポジトリからローカルリポジトリにコピーする
git clone [クローンしたいリポジトリ]

ex.
git clone https://github.com/TAPStar/hellow_git.git


■ git status
gitに管理されているファイル一覧を表示


■ git add
指定したファイルをgitの管理下にある状態にする　=　ステージングする
ex.
git add memo.txt
git add . (=全てファイルをステージングする)


■ git commit -m "コメットメッセージ"
ステージングされたファイルをgitに保存する
-m : コミットメッセージを残す


■ git log
コメットの履歴を表示する


■ git push origin
リモートにアップロードを行う
originはリモートサーバのことを指している


■ git pull origin
リモートからローカルにリポジトリをダウンロードする
注：cloneは初回のダウンロード時のみ使用する


■ ブランチ
gitの変更履歴を枝分かれさせる機能
本番環境に影響を及ぼしたくない時に分岐させたブランチで作業する
元祖の変更履歴をmasterと呼ぶ


■ git checkout -b develop main
mainからdevelopという名前のブランチを作成
-b : 同時にdevelopブランチに移動する
分岐後も分岐前のコミット情報は残る
ex.
git checkout -b develop2 origin/main
リモートのmainブランチ化から分岐したdevelop2ブランチを作成し移動する。


■ git branch
branchの一覧と現在作業中のブランチを確認する。


■ git checkout main
mainブランチに移動する


■ git pull origin develop
developのbranchでリモートにアップロードする


■ git merge
分岐したブランチを統合する
まずマージ先のbranchに移動し
git merge [マージするbranch名]


■ pull request
あるブランチをmasterにマージすることを承認者に対して申請すること
承認者が変更差分をレビューし
・コメントを記入したり
・差し戻したり
・承認する(merge pull request)


■ fetch
同じブランチで複数人が作業をしてそれぞれpushすると、
後からpushする側にエラー(reject)が発生する
リモートの最新ブランチをローカルにmergeする(=fetch)ことで、
同ブランチでもpushできる状態になる


■ git fetch origin develop
リモートの最新のdevelopブランチをダウンロードする


■ git branch -a
-a :  リモートも含めたブランチ一覧を表示する


■ pullとfetchの違い
git pull develop は以下２つのコマンドのショートカット
・git fetch origin (リモートから最新ブランチをダウンロード)
・git merge origin/develop (ダウンロードした最新ブランチをローカルにmerge)


■ rebase
・git fetch origin (リモートから最新ブランチをダウンロード)
・git merge origin/develop (ダウンロードした最新ブランチをローカルにmerge)
・git push origin (リモートにアップロード)
↓のコマンドでも同じ効果となる
・git fetch origin (リモートから最新ブランチをダウンロード)
・git rebase origin/develop (ダウンロードした最新ブランチをローカルにmerge)
・git push origin -f (リモートにアップロード)


■ rebaseのコミットツリー
commitツリーがきれいになる
使わなくても良い、好みの問題
pushの -f オプションは、ローカルを神としてリモートを強制的に書き換える危険なコマンドのため注意が必要


■ コンフリクト
複数人が同じファイルの同じ行に編集を加えた場合、コンフリクトが発生する
pullする時にコンフリクトエラーが発生した場合、手動で該当箇所を修正する。
（Gitはどちらが正しいのか判断できない）


■ git reset
git reset -hard HEAD
編集内容を破棄して最終コミットの状態に戻る


■ git stash
編集内容を破棄して最終コミットの状態に戻る
git stash pop で破棄した編集内容を元に戻すことができる

ex.
誤ったブランチで作業していた場合、
git stash で最終コミット状態に戻す。
(変更内容があるとcommitするまでcheckoutでエラーとなる)
checkoutで正しいブランチに移動して、
git stash pop で編集内容を貼り付けする

■


